# `TicketLock` против `TestAndSetLock`

Рассмотрим, что будет происходить после отпускания лока, в случае каждой из реализаций.

В случае `TAS` лока один из проснувшихся потоков гарантированно пройдёт в критическую секцию. Действительно, неуспех локов на других ядрах указывает на успех одного из потоков.

В случае с `TicketLock` может быть ситуация, когда ни один из потоков, что проснулись, не будет иметь соответствующий текущему номерок, а значит и не пройдут в критическую секцию. Это замедляет работу лока.

Таким образом, при свободном локе `ticket lock` потратит больше времени чем `test-and-set lock`. Ситуация будет ухудшаться при увеличения чиска потоков по отношению к цислу ядер, так как вероятность включения потока с нужным номерком будет падать.